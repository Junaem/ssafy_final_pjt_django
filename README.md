# PJT final

:clapper: 목차

> 박소미 - Front-end
>
> > 단계별 구현 과정 & 어려웠던 부분
>
> 이준형 - Back-end
>
> > 단계별 구현 과정 & 어려웠던 부분
>
> 배운 것 & 느낀 점

*****************

## 

## 1. 팀원 정보 및 업무 분담 내역

박소미 - SSAFY 이전 개발 경력 없음

이준형 - SSAFY 이전 개발 경력 없음

Django Rest Framework와 Vue.js를 활용하여 서버와 클라이언트로 파트를 나누어 진행했다. 

박소미 교육생이 Vue.js를 활용한 클라이언트를, 이준형 교육생이 DRF를 활용한 api 서버를 담당했다.

## 2. 목표 서비스 구현 및 실제 구현 정도 - 각자

| 목표 서비스                                                  | 실제 구현 정도 | 비고 |
| ------------------------------------------------------------ | -------------- | ---- |
| Tmdb api 서버를 통한 영화, 장르 데이터 수집하여 db에 저장    | 완료           |      |
| 전체 모델 구조 및 Url 구조 설계                              | 완료           |      |
| DRF에 있는 영화 데이터를 클라이언트에서 불러오기             | 완료           |      |
| 영화와 1:N 관계를 갖는 리뷰 CRUD 기능                        | 완료           |      |
| jwt를 활용한 account 기능                                    | 완료           |      |
| 리뷰 '좋아요'(User와 M:N관계), 댓글(리뷰, User와 1:N관계) CRUD 기능 | 완료           |      |
| 영화, 리뷰, 댓글 통합 검색 기능                              | 완료           |      |
| User간 follow 기능                                           | 완료           |      |
| 영화 평점 기능(중개테이블을 활용한 M:N 관계)                 | 완료           |      |
| 유저의 영화 평점 정보를 활용한 장르 추천                     | 완료           |      |
| 다양한 기준의 영화 추천                                      | 완료           |      |





## 3. 데이터베이스 모델링(ERD)

![image-20211125113819685](README.assets/image-20211125113819685.png)

- 중개용이 아닌 실질적인 테이블은 `User`, `Movie`, `Genre` `Review`,`Comment` 가 있다. `Vote_rate`같은 경우는 모델로 코드상 구현은 했지만 `Movie`와 `User`를 연결짓기 위한 중개 테이블이다.
- 모든 테이블은 하나 이상의 테이블과 연결 관계를 가진다.

## 4. 필수 기능에 대한 설명 - 각자

### 백엔드

##### 1. TMDB의 API를 활용하여 영화와 장르의 정보 가져오기

- 영화에 대한 요청을 보내고 그 데이터를 저장하는 과정은, view의 함수 내의 내부함수로 만들어서, 여러 url(`popular`, `top_rated`, `upcoming` 등)에서 영화 데이터를 가져왔다. 

- `requests`를 통해 tmdb api 서버에 요청을 보냈다. 이때 api키를 숨기기 위해 `secrets.json`이라는 `git`에 등록되지 않는 파일을 하나 만들어 저장한 후, 그 파일을 `view.py`에서 불러와 사용했다.
- tmdb api 서버에서 사용하는 `movie`의 키값을 쟝고에서는 다르게 저장하고(ex: `vote_average` => `tmdb_vote_average` ), `genre_ids`를 그대로 활용하는게 아니라 `Genre`모델과 연결짓고 싶어서 응답받은 json을 통채로 시리얼라이저에 `many=True`로 넣지 않고 각 영화





## 5. 배포 서버 URL(안함)

## 6. 느낀 점 - 각자



